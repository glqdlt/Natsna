<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ page trimDirectiveWhitespaces="true"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<style type="text/css">
.fileDrop {
	width: 100%;
	height: 200px;
	border: 1px dotted blue;
}
</style>

<title>Natsna</title>


<%@include file="../common/header.jsp"%>


<h2>malware/archive</h2>

<div>
	<form action="/malware/analysis" method="post" enctype="multipart/form-data">
		
		<input type="file" name="file">
	
	<input type="submit" value="전송" >
	</form>
</div>

<div class="fileDrop">
	<h3>Drop Zone</h3>
</div>
<div class="uploadedList"></div>

<script type="text/javascript">

// 세션 - 인터럽트 처리 때문에 잠시 중단
		$(".fileDrop").on("dragenter dragover",function(event){
			event.preventDefault();
		});
		$(".fileDrop").on("drop",function(event){
			event.preventDefault();
		  $(this).css('border', '2px solid blue');
		 	
		  var files = event.originalEvent.dataTransfer.files;
		  var file = files[0];
		  
		  var formData = new FormData();
		  
		  formData.append("file",file);
		  
		  $.ajax({
			 url: '/malware/analysis',
			 data: formData,
			 dataType: 'text',
			 processData: false,
			 contentType: false,
			 type: 'POST',
			 success: function(data){
				 alert(data);
			 }
		  });
		  

			
		});
</script>



<%@include file="../common/footer.jsp"%>
